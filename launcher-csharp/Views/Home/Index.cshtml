@using DocuSign.CodeExamples.ESignature.Models;
@{
    var locals = ViewData["locals"] as Locals;//ViewBag.Locals;
    bool showDoc;
    Boolean.TryParse(ViewData["showDoc"].ToString(), out showDoc);//ViewBag.ShowDoc;
    Layout = "_HomeLayout";
}
    <div class="jumbotron">
        <table>
            <tbody>
                <tr>
                    <td>
                        <h1 class="display-4">C# Launcher</h1>
                        <p class="Xlead">
                            @Html.Raw(ViewBag.SupportingTexts.HomePageText)
                        </p>
                    </td>
                    <td>
                        <img src="/images/banner-code.PNG" />
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container" style="margin-top: 40px" id="index-page">
         <div class="form-group has-search">
            <span class="fa fa-search form-control-feedback"></span>
            <input type="text" class="form-control" id="code_example_search" placeholder="Search for code example">
          </div>
         

        <div id="api_json_data" class="hidden">@ViewBag.APIData</div>

        <div id="filtered_code_examples" class="container" style="margin-top: 10px; padding-left: 0px;">
            @foreach(var api in ViewBag.APITexts)
            {

                var linkToCodeExample = ((APIs) api).Name == "eSignature" ? "eg"
                    : ((APIs) api).Name == "Click" ? "ClickEg"
                    : ((APIs) api).Name == "Monitor" ? "monitorExample"
                    : ((APIs) api).Name == "Rooms" ? "Reg"
                    : "Aeg";

                @foreach(var exampleGroup in api.Groups)
                {
                    <h2>@Html.Raw(exampleGroup.Name)</h2>

                    @foreach (var example in exampleGroup.Examples)
                    {
                        @if (example?.SkipForLanguages == null || !example?.SkipForLanguages.ToLower().Contains("c#"))
                        {
                            <h4 id="@String.Format("example{0}", String.Format("{0:D3}", @example.ExampleNumber))">
                                <a href="@String.Format(linkToCodeExample + "{0}", String.Format("{0:D3}", @example.ExampleNumber))">
                                    @Html.Raw(example.ExampleName)
                                </a>
                            </h4>

                            <p>
                                @Html.Raw(example.ExampleDescription)
                            </p>

                            <partial name="../Shared/LinkToMethodView" model="example" />
                        }
                    }
                }
            }
        </div>

        <!-- anchor-js is only for the index page -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js"></script>
        <script>anchors.options.placement = 'left'; anchors.add('h4')</script>
    </div>
